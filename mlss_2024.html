<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>MLSS - Giannos Louloudis #101</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    </head>
</html>
<style>
    h1 {text-align:center;}
    p {
        text-align: justify;
        margin-left: 100px;
        margin-right: 100px;
    }
    h2 {
        margin-left: 100px;
        margin-right: 100px;
    }

    h3 {
        margin-left: 100px;
        margin-right: 100px;
    }

    h4 {
        margin-left: 100px;
        margin-right: 100px;
    }

    .center {
        display: block;
        margin-left: auto;
        margin-right: auto;
        width: 50%;
    }

    .table-container {
            margin-left: 100px;
            margin-right: 100px;
        }

    table {
            border-collapse: collapse;
            width: 100%;
        }

    th, td {
            border: 1px solid black;
            padding: 8px;
            text-align: left;
        }

    .image-container {
        text-align: center;
    }

    body {
        background-color: #f3f3f3ff;
    }

</style>
<body>
    <h1>Data Driven Drug Repurposing using Graph Neural Networks</h1>
    <hr>
    <h2>Project overview</h2>
    <div class="image-container">
        <img src="images/repositioning_overview.png" alt="Repositioning project overview." width="900" style="margin-left: 50px;">
    </div>

    <h2>Electronic Health Records in Denmark</h2>
    <p>
        The BigTempHealth (BTH) project contains healthcare data from the Capital Region and Region Zealand of Denmark
        during the years <strong>2006-2016</strong> and includes ~2.9 million patients. The complete Electronic Health Records (EHRs) contain 
        data on diagnoses, (hospital) prescriptions/medication, lab-test values and clinical notes.
    </p>
    <p>
        Diagnoses are in the Danish Healthcare system are recorded in the International Classification of Diseases (ICD) system
        and more specifically as <strong>ICD-10</strong> codes. The prescriptions are stored based on the Anatomical Therapeutic
        Chemical Classification System (ATC) system as <strong>ATC</strong> codes. As a result information stored in the Danish EHRs
        can easily be supplented by open-source data which use these standardized formats.
    </p>
    <p>
        In the <em>current</em> stage of this project, data on diagnoses and medication were extracted for the patients
        in BTH. Diagnoses assigned within the same hospital visit or within a time-span of 7
        days were paired together as a <em>diagnosis-pair</em>. The same process was repeated for medication. Diagnoses and
        prescriptions given within a span of 7 days were used to generated diagnoses-prescription
        pairs.
    </p>

    <h2>Graph Neural Networks</h2>
    <p>
        Graph Neural Networks (GNNs) provide a versatile tool to tackle graph-structured data with deep learning approaches. GNNs can make
        effective use of the interconnected nature of graphs and scale well with the large-scall of real-world datasets. In our work we fit
        two different GNN algorithms on two large-scale knowledge graphs. The GNNs were designed based on the same template and had their 
        hyper-parameters (<em>number of epochs, learning rate, number of hidden dimensions</em>) optimized using the hyper-parameter 
        optimization framework <strong>Optuna</strong>. An additional hyper-parameter was the type of graph architecture the neural network 
        should use. The choices were graph convolution layers, SAGE layers and different mixes between the two.
    </p>
    <p>
        The goal of this GNN is to perfrm <strong>link-prediction</strong> between the drug-disease type nodes. The link-prediction task is
        performed through a classifier which takes effect after the graph part of the neural network and calculates a similarity score through 
        the dot product of the drug and disease nodes.
    </p>

    <h2>Drug repositioning</h2>

    <p>A sample of the top-hits from the real-world graph (<em>graph-B</em>).</p>

    <div class="table-container">
        <table>
            <thead>
                <tr>
                    <th>Drug</th>
                    <th>Disease</th>
                    <th>Prediction - Similarity score</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Fentanyl (N01AH01)</td>
                    <td>Erythematous condition, unspecified (DL539A)</td>
                    <td>15.929867</td>
                </tr>
                <tr>
                    <td>Sodium pocusulfate (A06AB08)</td>
                    <td>Erythematous condition, unspecified (DL539A)</td>
                    <td>13.543915</td>
                </tr>
                <tr>
                    <td>Morphine (N02AA01)</td>
                    <td>Neonatal aspiration syndrome, unspecified (DP249)</td>
                    <td>12.701891</td>
                </tr>
            </tbody>
        </table>
    </div>

    <br>
    <br>

</body>